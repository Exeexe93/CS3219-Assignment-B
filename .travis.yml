language: node_js
node_js:
- '12.8'
services:
- mongodb
cache:
  directories:
  - node_modules
dist: trusty
before_script:
- cd application
- npm install
- npm install -g serverless
- serverless config credentials --provider aws --key $key --secret $secret
script:
- npm run test
- sls deploy
env:
  global:
  - secure: 73TrFomqvE/DNgFLaRPbQDKv6zZkdczjz7l2H+mAjQ+Z+WOwAxfWzZHD3RKO1/xVlKoFfZ1sCw5faBrOpdGR5TG4pvP552lkue8KNI6bxJRWLlLXCa3uBGLedfCfhBiRp+rD1ugimSAB/N0vSxKjwSNcpad/mcYtN5QUxqa5EWU5QNzV0o13/PRfIGo64Gxdrxf4TACZFI7H+bV/QSANorwAcY3JrcgOz1jzoy4j4CwYgerqz2iWXzGG70Yc0vQW8fi727wH30Ay+Iq7RPX10xgCLs4VFPFpiGAT933TUl3NiWWDBpbE4az1IyHIXUXA1h/NvfIJjNZLspCfx8JZoBIrZL/oQocrLQwn8QNiVMpBYaLegp1SUm6v96ACpj1SutCKgDMtcJptF2EPq/YWKXrvoGouLpewCS+6bdK7Jz6BX+THeJh2+dJ8O8ZsuR8MhFs/iLpISWNMBcRxuFkjhQVcHC/Q1yo4l1JFnN9fDeLvzuo6vnNmCZ8NtxfOe0AP9qwWKZ6lw8G6K+NJlE5vI7w3q6+bYx6j7ThW87/9Mvduzyb+m0FnC4h2tLEU7RPwhlF1Ab7/+pNBEC75/DLItXWGZ650gRWw+7ccWqU7WXUGy8A8MOL+txuuiKakLxzQFxyrLloAaoYChKYVR88fEGjXXrh7AFVKk8iIsqC5xp8=
  - secure: EJyVjbhjocVsWO2injvCxFSdJWhWlp9xxA0Q7I91Zx98dQVKcpKc+Tma1x+rjMXxp2OlZ+XEcKdtb+VIuT+2uxwTDgjxLScyYQLhpIRbYOo3zfzAnVZuMizpZLRdCA/fub2T/H6rV4QxCS3dFK6NWRKuH3K2Z6vNKVQT59N4iPw3wqfW+9SfJG+BEa3ZbEVuN0AjATtwwKZ/NBYYAFqkzawNaSpJr7pdVA3k+1A/Tx0SydlD4uQKLDWHHOtv53LvVHaI72ZaqPxsR1RWrqplW2PnQW8O3PiyyG8q9GR9eC2daIoTte39YE1jJHR0leW1c2gvYguKoXWDZA/sOJ3ihtJ5t5NMgXK/rbeekQ1qJ27JT+sLO4Kg9Y0Vrj19mutLLjoPCCYq9DF+ckv+U/aBN6YdSS9dmEO0enQzppFFlaEoCx3evRmhFNjYx+FeUprSKxwBTMp0OxLvx3ydo7uvTl+ACa79k79e+7lepj/cgm8zPmOdhQhIH284nmvxftShNvzCl0vrdSghvirr+w4QRQp2iKVjtNVodGaJjNcausBnszSRiUY+1RrYSg5cnSjNP1Wrg+3kQ4u8uenQatAxwTppM4f7cB3khsHzLyeWGtb7yKGZ8l/ShUtobvhFFh/gGde4zW/daalbjfowiktO8Wjq6MxT520c6I+j++qCD6U=
